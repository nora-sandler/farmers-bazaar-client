[{"/Users/gulnorasandler/Documents/new-farmers-bazaar-client/src/serviceWorker.js":"1","/Users/gulnorasandler/Documents/new-farmers-bazaar-client/src/Landing.js":"2","/Users/gulnorasandler/Documents/new-farmers-bazaar-client/src/Footer.js":"3","/Users/gulnorasandler/Documents/new-farmers-bazaar-client/src/config.js":"4","/Users/gulnorasandler/Documents/new-farmers-bazaar-client/src/Register.js":"5","/Users/gulnorasandler/Documents/new-farmers-bazaar-client/src/AddItems.js":"6","/Users/gulnorasandler/Documents/new-farmers-bazaar-client/src/App.js":"7","/Users/gulnorasandler/Documents/new-farmers-bazaar-client/src/services/auth-api-service.js":"8","/Users/gulnorasandler/Documents/new-farmers-bazaar-client/src/Login.js":"9","/Users/gulnorasandler/Documents/new-farmers-bazaar-client/src/NavBar.js":"10","/Users/gulnorasandler/Documents/new-farmers-bazaar-client/src/index.js":"11","/Users/gulnorasandler/Documents/new-farmers-bazaar-client/src/services/token-service.js":"12","/Users/gulnorasandler/Documents/new-farmers-bazaar-client/src/Header.js":"13","/Users/gulnorasandler/Documents/new-farmers-bazaar-client/src/validationError.js":"14","/Users/gulnorasandler/Documents/new-farmers-bazaar-client/src/Inventory.js":"15","/Users/gulnorasandler/Documents/new-farmers-bazaar-client/src/Error.js":"16","/Users/gulnorasandler/Documents/new-farmers-bazaar-client/src/ItemDetails.js":"17"},{"size":5086,"mtime":1598489684145,"results":"18","hashOfConfig":"19"},{"size":809,"mtime":1606793915497,"results":"20","hashOfConfig":"19"},{"size":891,"mtime":1605937070289,"results":"21","hashOfConfig":"19"},{"size":168,"mtime":1606613931241,"results":"22","hashOfConfig":"19"},{"size":12984,"mtime":1606703600244,"results":"23","hashOfConfig":"19"},{"size":8249,"mtime":1606795797730,"results":"24","hashOfConfig":"19"},{"size":1044,"mtime":1606756871060,"results":"25","hashOfConfig":"19"},{"size":939,"mtime":1605754621026,"results":"26","hashOfConfig":"19"},{"size":5067,"mtime":1606703571799,"results":"27","hashOfConfig":"19"},{"size":2046,"mtime":1606753746594,"results":"28","hashOfConfig":"19"},{"size":455,"mtime":1606794951285,"results":"29","hashOfConfig":"19"},{"size":767,"mtime":1599016262601,"results":"30","hashOfConfig":"19"},{"size":391,"mtime":1605937085016,"results":"31","hashOfConfig":"19"},{"size":192,"mtime":1598921770357,"results":"32","hashOfConfig":"19"},{"size":3124,"mtime":1606795770723,"results":"33","hashOfConfig":"19"},{"size":212,"mtime":1606753640407,"results":"34","hashOfConfig":"19"},{"size":10060,"mtime":1606787640311,"results":"35","hashOfConfig":"19"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1kicnnb",{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"42","messages":"43","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"44","usedDeprecatedRules":"45"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"48","messages":"49","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"45"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"59"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"59"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"45"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"74","usedDeprecatedRules":"59"},"/Users/gulnorasandler/Documents/new-farmers-bazaar-client/src/serviceWorker.js",[],"/Users/gulnorasandler/Documents/new-farmers-bazaar-client/src/Landing.js",[],"/Users/gulnorasandler/Documents/new-farmers-bazaar-client/src/Footer.js",[],"/Users/gulnorasandler/Documents/new-farmers-bazaar-client/src/config.js",["75"],"export default {\n    API_ENDPOINT: \"https://farmers-bazaar-api.herokuapp.com/api\",\n    // API_ENDPOINT: \"http://localhost:8000/api\",\n    TOKEN_KEY: 'farmers-bazaar'\n  }",["76","77"],"/Users/gulnorasandler/Documents/new-farmers-bazaar-client/src/Register.js",[],"/Users/gulnorasandler/Documents/new-farmers-bazaar-client/src/AddItems.js",["78"],"/Users/gulnorasandler/Documents/new-farmers-bazaar-client/src/App.js",[],"/Users/gulnorasandler/Documents/new-farmers-bazaar-client/src/services/auth-api-service.js",[],["79","80"],"/Users/gulnorasandler/Documents/new-farmers-bazaar-client/src/Login.js",[],"/Users/gulnorasandler/Documents/new-farmers-bazaar-client/src/NavBar.js",[],["81","82"],"/Users/gulnorasandler/Documents/new-farmers-bazaar-client/src/index.js",[],"/Users/gulnorasandler/Documents/new-farmers-bazaar-client/src/services/token-service.js",[],"/Users/gulnorasandler/Documents/new-farmers-bazaar-client/src/Header.js",[],"/Users/gulnorasandler/Documents/new-farmers-bazaar-client/src/validationError.js",[],"/Users/gulnorasandler/Documents/new-farmers-bazaar-client/src/Inventory.js",["83"],"/Users/gulnorasandler/Documents/new-farmers-bazaar-client/src/Error.js",[],"/Users/gulnorasandler/Documents/new-farmers-bazaar-client/src/ItemDetails.js",["84"],"import React from \"react\"\nimport config from \"./config\"\nimport TokenService from \"./services/token-service\"\nimport ValidationError from \"./validationError\"\nimport { Link } from 'react-router-dom'\n\nclass ItemDetails extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            itemDetails: {},\n\n            itemName: {\n                value: \"\",\n                touched: false,\n            },\n            itemDescription: {\n                value: \"\",\n                touched: false,\n            },\n            itemPrice: {\n                value: \"\",\n                touched: false,\n            },\n            itemCount: {\n                value: \"\",\n                touched: false,\n            },\n\n        };\n    }\n\n\n    changeItemName(itemName) {\n        this.setState({\n            itemName: { value: itemName, touched: true },\n        });\n    }\n\n    changeItemDescription(itemDescription) {\n        this.setState({\n            itemDescription: { value: itemDescription, touched: true },\n        });\n    }\n\n    changeItemPrice(itemPrice) {\n        this.setState({\n            itemPrice: { value: itemPrice, touched: true },\n        });\n    }\n\n    changeItemCount(itemCount) {\n        this.setState({\n            itemCount: { value: itemCount, touched: true },\n        });\n    }\n\n\n    validateItemName() {\n        const itemName = this.state.itemName.value.trim();\n        if (itemName.length === 0) {\n            return <p className=\"input-error\">Item name is required</p>;\n        } else if (itemName.length < 2) {\n            return (\n                <p className=\"input-error\">\n                    Item name must be at least 2 characters long\n                </p>\n            );\n        }\n    }\n\n\n    validateItemDescription() {\n        const itemDescription = this.state.itemDescription.value.trim();\n        if (itemDescription.length === 0) {\n            return <p className=\"input-error\">Item description is required</p>;\n        } else if (itemDescription.length < 2) {\n            return (\n                <p className=\"input-error\">\n                    Item description must be at least 2 characters long\n                </p>\n            );\n        }\n    }\n\n\n    validateItemPrice() {\n        const itemPrice = this.state.itemPrice.value.trim();\n        if (itemPrice.length === 0) {\n            return <p className=\"input-error\">Item price is required</p>;\n        } else if (itemPrice.length < 1) {\n            return (\n                <p className=\"input-error\">\n                    Item price must be at least 1 characters long\n                </p>\n            );\n        }\n    }\n\n\n    validateItemCount() {\n        const itemCount = this.state.itemCount.value.trim();\n        if (itemCount.length === 0) {\n            return <p className=\"input-error\">Item count is required</p>;\n        } else if (itemCount.length < 1) {\n            return (\n                <p className=\"input-error\">\n                    Item price must be at least 1 characters long\n                </p>\n            );\n        }\n    }\n\n    componentDidMount() {\n\n        let currentUser = TokenService.getUserId();\n        console.log(currentUser)\n\n        //if the user is not logged in, send him to landing page\n        if (!TokenService.hasAuthToken()) {\n            window.location = '/'\n        }\n\n        const itemId = this.props.match.params.itemId;\n\n\n\n        let getItemDetailsUrl = `${config.API_ENDPOINT}/items/${itemId}`;\n\n        fetch(getItemDetailsUrl)\n            .then((itemDetails) => itemDetails.json())\n            .then((itemDetails) => {\n                console.log(itemDetails)\n                this.setState({\n                    itemDetails: itemDetails,\n                });\n                console.log(this.state);\n            })\n\n            .catch((error) => this.setState({ error }));\n    }\n\n\n    updateItem(event) {\n\n        // console.log('hello there')\n        event.preventDefault()\n        const data = {}\n\n        const formData = new FormData(event.target)\n\n        for (let value of formData) {\n            data[value[0]] = value[1]\n        }\n\n        let user_id = TokenService.getUserId();\n\n        let { itemName, itemDescription, itemPrice, itemCount } = data;\n        //get the current date in unix format \n        const timeElapsed = Date.now();\n        //conver the unix format date into string\n        const today = new Date(timeElapsed);\n        \n        let payload = {\n            users_id: user_id,\n            name: itemName,\n            description: itemDescription,\n            itemprice: itemPrice,\n            itemcount: itemCount,\n            img: \"no-img.jpg\",\n            date_created: today.toISOString() //converting to this format \"2020-06-13T18:30:00.000Z\"\n\n        }\n\n\n\n    //     console.log(this.props)\n\n    //    const itemId = this.props.match.params.itemId;\nconst itemId = window.location.href.split(\"/\")[4]\n// console.log(itemId,'-----------------')\n// const itemId2 = this.props.match.params.itemId;\n\n        fetch(`${config.API_ENDPOINT}/items/${itemId}`, {\n            method: 'PATCH',\n            headers: {\n                'content-type': 'application/json',\n            },\n            body: JSON.stringify(payload),\n        })\n            .then((response) => response.json())\n            .then(responseJson => {\n                window.location = '/inventory'\n            })\n            .catch(err => {\n                console.log(err);\n            });\n\n    }\n\n    render() {\n\n\n\n\n\n\n\n        // console.log(this.state.itemDetails.length)\n        let showItemsDetailsPage = ''\n        //by default show there are no items\n        if (this.state.itemDetails.length === 0) {\n            showItemsDetailsPage =\n                <div className=\"itemsDetails\">\n                    No item details here\n             </div>\n        }\n        // if there are items \n        else {\n\n            // display details for each one of the items\n            showItemsDetailsPage =\n                <li>\n                    <form className=\"itemDetails\" onSubmit={this.updateItem}>\n                        <label htmlFor=\"itemName\">Item name</label>\n                        <input\n                            type=\"text\"\n                            id=\"itemName\"\n                            name=\"itemName\"\n                            placeholder=\"Tomatoes\"\n                            defaultValue = {this.state.itemDetails.name}\n                            onChange={(e) =>\n                                this.changeItemName(e.target.value)\n                            }\n                            required\n                        />\n                        {this.state.itemName.touched && (\n                            <ValidationError\n                                message={this.validateItemName()}\n                            />\n                        )}\n                        <label htmlFor=\"itemDescription\">Item description</label>\n                        <input\n                            type=\"text\"\n                            id=\"itemDescription\"\n                            name=\"itemDescription\"\n                            placeholder=\"Sweet\"\n                            defaultValue = {this.state.itemDetails.description}\n                            onChange={(e) =>\n                                this.changeItemDescription(e.target.value)\n                            }\n                            required\n                        />\n                        {this.state.itemDescription.touched && (\n                            <ValidationError\n                                message={this.validateItemDescription()}\n                            />\n                        )}\n\n\n                        <label htmlFor=\"itemPrice\">Item price</label>\n                        <input\n                            type=\"text\"\n                            id=\"itemPrice\"\n                            name=\"itemPrice\"\n                            placeholder=\"Item price\"\n                            defaultValue = {this.state.itemDetails.itemprice}\n                            onChange={(e) =>\n                                this.changeItemPrice(e.target.value)\n                            }\n                            required\n                        />\n                        {this.state.itemPrice.touched && (\n                            <ValidationError\n                                message={this.validateItemPrice()}\n                            />\n                        )}\n\n\n                        <label htmlFor=\"itemCount\">Item count</label>\n                        <input\n                            type=\"text\"\n                            id=\"itemCount\"\n                            name=\"itemCount\"\n                            placeholder=\"Item count\"\n                            defaultValue = {this.state.itemDetails.itemcount}\n                            onChange={(e) =>\n                                this.changeItemCount(e.target.value)\n                            }\n                            required\n                        />\n                        {this.state.itemCount.touched && (\n                            <ValidationError\n                                message={this.validateItemCount()}\n                            />\n                        )}\n\n                        <button\n                            className=\"go-button\"\n                            type=\"submit\"\n                        >\n                            Update item\n                        </button>\n                    </form>\n\n                    {/* <p>{this.state.itemDetails.name} </p>\n                    <p>{this.state.itemDetails.description} </p>\n                    <p>{this.state.itemDetails.price} </p>\n                    <p>{this.state.itemDetails.count} </p> */}\n                </li>\n        }\n\n\n\n\n        return (\n            <div className=\"UpdateItems\">\n                <section id=\"UpdateItemsPage\">\n                    {showItemsDetailsPage}\n         </section>\n            </div>\n        );\n    }\n}\n\nexport default ItemDetails;\n",{"ruleId":"85","severity":1,"message":"86","line":1,"column":1,"nodeType":"87","endLine":5,"endColumn":4},{"ruleId":"88","replacedBy":"89"},{"ruleId":"90","replacedBy":"91"},{"ruleId":"92","severity":1,"message":"93","line":114,"column":13,"nodeType":"94","messageId":"95","endLine":114,"endColumn":24},{"ruleId":"88","replacedBy":"96"},{"ruleId":"90","replacedBy":"97"},{"ruleId":"88","replacedBy":"98"},{"ruleId":"90","replacedBy":"99"},{"ruleId":"100","severity":1,"message":"101","line":65,"column":70,"nodeType":"102","messageId":"103","endLine":65,"endColumn":72},{"ruleId":"92","severity":1,"message":"104","line":5,"column":10,"nodeType":"94","messageId":"95","endLine":5,"endColumn":14},"import/no-anonymous-default-export","Assign object to a variable before exporting as module default","ExportDefaultDeclaration","no-native-reassign",["105"],"no-negated-in-lhs",["106"],"no-unused-vars","'currentUser' is assigned a value but never used.","Identifier","unusedVar",["105"],["106"],["105"],["106"],"array-callback-return","Array.prototype.map() expects a value to be returned at the end of arrow function.","ArrowFunctionExpression","expectedAtEnd","'Link' is defined but never used.","no-global-assign","no-unsafe-negation"]